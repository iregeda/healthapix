!function(i,e){var a=function(e,t){0<e.parent().find(">.mega-menu-column-title").length&&t++,e.is(".menu-row, .menu-row-wrapper")?e.find(">li>ul.menu").each(function(){a(i(this),t)}):e.find(">li>ul.menu").each(function(){a(i(this),t+1)}),e.addClass("deep-"+t)};i.fn.offsetRight=function(){return i("body").hasClass("boxed")?i(this).offset().left+i(this).outerWidth()+(i(window).width()-i(".dexp-body-inner").width())/2:i(this).offset().left+i(this).outerWidth()},i.fn.offsetLeft=function(){return i("body").hasClass("boxed")?i(this).offset().left-(i(window).width()-i(".dexp-body-inner").width())/2:i(this).offset().left},e.behaviors.dexp_menu={attach:function(){i(".dexp-menu").once("megamenu").each(function(){i(this).find("[data-mega-menu]").each(function(){var e=i(this).data("megaMenu");if("row"==e.dexp_megamenu_type){i(this).parent().addClass("menu-row-wrapper-inner").removeClass("menu-item--expanded").parent().addClass("menu-row-wrapper").removeClass("menu-item--expanded"),i(this).next("ul").addClass("menu-row");var t=parseInt(e.dexp_megamenu_width);if(isNaN(t))i(this).parent().parent().addClass("menu-container");else{var n=function(){function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()}();i(this).parent().parent().attr("data-"+n,""),i("head").append('<style type="text/css" media="screen and (min-width:992px)">[data-'+n+"]{width:"+t+"px!important;}</style>")}i(this).remove()}else i(this).parent().addClass("menu-col-12").addClass("menu-col-lg-"+e.dexp_megamenu_column_width).removeClass("menu-item--expanded"),i(this).addClass("mega-menu-column-title"),"no"===e.dexp_megamenu_show_column_title?i(this).remove():i(this).parent().addClass("menu-item--expanded--mobile")}),i(this).find("li.menu-item--expanded").each(function(){i(this).hover(function(){var e=i(this).find(">ul.menu");e.css({transform:"translateX(0)"});var t=0;e.hasClass("menu-container")?(t=e.offset().left-(i(window).width()-e.outerWidth())/2,t*=-1):"rtl"!=i("html").attr("dir")?0<(t=e.offsetRight()-i(window).width())?(t>i(this).outerWidth()/2&&0==e.parent().closest("ul").is(".dexp-menu")&&(t=e.outerWidth()+i(this).outerWidth()),t=0-t):t=0:(t=e.offsetLeft())<0?(t*=-1)>i(this).outerWidth()/2&&0==e.parent().closest("ul").is(".dexp-menu")&&(t=e.outerWidth()+i(this).outerWidth()):t=0,0!==t&&e.css({transform:"translateX("+t+"px)"})},function(){})});var e=i('<span class="dexp-menu-toggle"><i class="icon dexp-menu-icon-menu-toggle"></i></span>'),t=i('<div class="dexp-menu-overlay"></div>'),n="right";i(this).parents(".block").hasClass("mobile-left")?n="left":i(this).parents(".block").hasClass("mobile-bottom")&&(n="bottom");var s=i(this);e.on("click",function(){i("body").toggleClass("menu-open-"+n),"bottom"==n&&s.css({left:0}).delay(10).css({left:-s.offset().left})}),t.on("click",function(){i("body").removeClass("menu-open-"+n)}),e.insertBefore(this),t.insertAfter(this),i(this).find("li.menu-item--expanded").on("click",function(e){!i(e.target).is("a")&&i(window).width()<992&&(e.stopPropagation(),i(e.target).find(">ul").slideToggle(400,function(){"none"==i(this).css("display")?i(this).parent().removeClass("expanded"):i(this).parent().addClass("expanded"),i(this).css({display:""})}))}),a(i(this),0)})}}}(jQuery,Drupal);